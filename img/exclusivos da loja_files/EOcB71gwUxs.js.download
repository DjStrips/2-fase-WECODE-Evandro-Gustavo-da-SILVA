if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSOptimisticUnsendMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"unsend_message",[0,33],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("GroupsCometAAContextualSuggestionLogImpressionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5207406316020374"}),null);
__d("GroupsCometAAContextualSuggestionLogImpressionMutation.graphql",["GroupsCometAAContextualSuggestionLogImpressionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBUpdateEventCountResponsePayload",kind:"LinkedField",name:"xfb_update_event_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GroupsCometAAContextualSuggestionLogImpressionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GroupsCometAAContextualSuggestionLogImpressionMutation",selections:c},params:{id:b("GroupsCometAAContextualSuggestionLogImpressionMutation_facebookRelayOperation"),metadata:{},name:"GroupsCometAAContextualSuggestionLogImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometAAV5RemoveMessageUpsellDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5234930403286481"}),null);
__d("GroupsCometAAV5RemoveMessageUpsellDialogQuery$Parameters",["GroupsCometAAV5RemoveMessageUpsellDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAAV5RemoveMessageUpsellDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAAV5RemoveMessageUpsellDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useGroupsCometRemoveMessageUpsellDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5192539170867184"}),null);
__d("useGroupsCometRemoveMessageUpsellDialogQuery.graphql",["useGroupsCometRemoveMessageUpsellDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"groupID"},{defaultValue:null,kind:"LocalArgument",name:"suggestionParams"}],c=[{kind:"Variable",name:"id",variableName:"groupID"}],d=[{kind:"Variable",name:"contextual_suggestion_parameters",variableName:"suggestionParams"},{kind:"Literal",name:"run_eligibility_checks",value:!0}],e={alias:"suggestedConditions",args:null,concreteType:"XFBGroupContextualSuggestionConditionInfo",kind:"LinkedField",name:"suggested_conditions_by_primary_action",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometRemoveMessageUpsellDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:{alias:"contextualSuggestion",args:d,concreteType:"XFBGroupAdminAssistContextualSuggestion",kind:"LinkedField",name:"contextual_suggestion",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"group.contextualSuggestion.suggestedConditions"},{kind:"RequiredField",field:{alias:"impressionLogger",args:null,concreteType:"XFBGroupContextualSuggestionStates",kind:"LinkedField",name:"suggested_event_logger_impression",plural:!1,selections:[{kind:"RequiredField",field:f,action:"THROW",path:"group.contextualSuggestion.impressionLogger.id"}],storageKey:null},action:"THROW",path:"group.contextualSuggestion.impressionLogger"}],storageKey:null},action:"THROW",path:"group.contextualSuggestion"}],storageKey:null},action:"THROW",path:"group"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometRemoveMessageUpsellDialogQuery",selections:[{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{alias:"contextualSuggestion",args:d,concreteType:"XFBGroupAdminAssistContextualSuggestion",kind:"LinkedField",name:"contextual_suggestion",plural:!1,selections:[e,{alias:"impressionLogger",args:null,concreteType:"XFBGroupContextualSuggestionStates",kind:"LinkedField",name:"suggested_event_logger_impression",plural:!1,selections:[f],storageKey:null}],storageKey:null},f],storageKey:null}]},params:{id:b("useGroupsCometRemoveMessageUpsellDialogQuery_facebookRelayOperation"),metadata:{},name:"useGroupsCometRemoveMessageUpsellDialogQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GroupsCometAAContextualSuggestionLogImpression",["CometRelay","GroupsCometAAContextualSuggestionLogImpressionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("GroupsCometAAContextualSuggestionLogImpressionMutation.graphql");function a(a,b,c,e){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c,onError:e,variables:{input:{group_contextual_suggestion_states_id:b}}})}g.commit=a}),98);
__d("GroupsCometAAV5RemoveMessageUpsellDialog.entrypoint",["GroupsCometAAV5RemoveMessageUpsellDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.suggestionParams;return{queries:{queryReference:{parameters:c("GroupsCometAAV5RemoveMessageUpsellDialogQuery$Parameters"),variables:{groupID:b,scale:d("WebPixelRatio").get(),suggestionParams:a}}}}},root:c("JSResourceForInteraction")("GroupsCometAAV5RemoveMessageUpsellDialog.react").__setRef("GroupsCometAAV5RemoveMessageUpsellDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useGroupsCometRemoveMessageUpsellDialog",["CometRelay","GroupsCometAAContextualSuggestionLogImpression","RelayHooks","promiseDone","react","recoverableViolation","useGroupsCometRemoveMessageUpsellDialogQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;function a(a,e){var f=d("RelayHooks").useRelayEnvironment(),g=i(function(g){c("promiseDone")(d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("useGroupsCometRemoveMessageUpsellDialogQuery.graphql"),{groupID:a,suggestionParams:e}).toPromise(),function(a){if(a==null){c("recoverableViolation")("Data is missing when resolving the promise in contextual suggestions","groups_comet");return}a=a.group.contextualSuggestion;var b=a.suggestedConditions.length>0;g(b,a.impressionLogger.id)},null)},[f,a,e]),j=i(function(a){d("GroupsCometAAContextualSuggestionLogImpression").commit(f,a)},[f]);return[g,j]}g["default"]=a}),98);
__d("UseMWV2GlobalRemoveMessage.bs",["LS.bs","LSAuthorityLevel.bs","LSOptimisticUnsendMessage","LSTransaction.bs","LsTargetType.bs","MWCMThreadTypes.bs","MWV2LogMessageClick.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d,e){b("MWV2LogMessageClick.bs").log(e,b("LsTargetType.bs").removeForEveryone,void 0,void 0),b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticUnsendMessage")(e.messageId,b("LS.bs").make(a))},"readWrite"),function(e){if(d===void 0)return;if(!b("MWCMThreadTypes.bs").isAnyCMThread(d.threadType))return;(function(a){});b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(c.table("messages").index("messageDisplayOrder")),{hd:d.threadKey,tl:0}),function(c,d){if(typeof d==="number")return;if(d.TAG===0)return;c=d._0;if(b("bs_caml").i64_eq(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)&&c.isUnsent&&a!==void 0)return b("bs_curry")._1(a,void 0)})})}},[c])}f.useHook=a}),null);
__d("LSPendingTasksPluginType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,16],r=[0,17],s=[0,23],t=[0,25],u=[0,28];f.lsBroker=a;f.payments=c;f.ephemeralMessaging=d;f.carrierMessaging=e;f.bugReporter=b;f.messageDenormalizations=g;f.seenHeads=h;f.mediaUpload=i;f.secureThreadSeenHeads=j;f.whatsappThread=k;f.secureThreadOverWaMessageSend=l;f.contactPruning=m;f.mediaManager=n;f.secureThreadOverWaEncryption=o;f.storyPost=p;f.coPresenceHeartbeat=q;f.secureThreadOverWaGroupManagement=r;f.encryptedBackups=s;f.anonymousRequest=t;f.messageActions=u}),null);
__d("LSTasks.bs",["LSJson","LSPendingTasksPluginType.bs","bs_caml_int64","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case 0:return"10003";case 1:return"10002";case 2:return"155";case 3:return"10001";case 4:return"10007";case 5:return"10006";case 6:return"14";case 7:return"10004";case 8:return"10005";case 9:return"29";case 10:return"33";case 11:return b("bs_pervasives").failwith("Not a supported task type.")}}function a(a){switch(a){case 0:return"secure-message-batchlookup";case 1:return"secure-message-createthread";case 2:return"delete_message";case 3:return"secure-message-deviceregistration";case 4:return"secure-message-disabledevice";case 5:return"secure-message-enabledevice";case 6:return"message_range";case 7:return"secure-message-prekeyupload";case 9:return"reaction";case 10:return"unsend_message";case 8:case 11:return b("bs_pervasives").failwith("Not a supported task type")}}function c(a,c,d,e){return a.table("pending_tasks").add({queueName:d,taskValue:b("LSJson").stringify(e),context:g(c),enqueueTimestampMs:(a=b("bs_caml_int64")).of_float(Date.now()),firstExecutedTimestampMs:a.zero,failureCount:a.zero,minTimeToSyncTimestampMs:a.zero,httpUrlOverride:void 0,timeoutTimestampMs:void 0,pluginType:b("LSPendingTasksPluginType.bs").lsBroker,priority:a.zero,syncGroupId:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0})}f.createLabelForTask=g;f.queueFromType=a;f.enqueue=c}),null);
__d("UseMWV2LocalRemoveMessage.bs",["LSDict","LSTasks.bs","LSTransaction.bs","LSWriteLabel.bs","LsTargetType.bs","MWV2LogMessageClick.bs","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){b("MWV2LogMessageClick.bs").log(a,b("LsTargetType.bs").removeForYouself,void 0,void 0),b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSTasks.bs").enqueue(c,2,b("bs_int64").to_string(b("LSWriteLabel.bs").deleteMessageV2),new(b("LSDict"))([["message_id",a.messageId],["thread_key",a.threadKey]]))},"readWrite"),void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWV2GlobalRemoveMessageDialog.bs",["fbt","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWCardedDialog.react","MWDialogText.react","MWPActor.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs","MWRadio.react","UseMWV2GlobalRemoveMessage.bs","UseMWV2LocalRemoveMessage.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:2892","cr:2893","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={settingSubtitle:{marginTop:"m8h3af8h",marginEnd:"r26s8xbz",marginBottom:"c0v9jzqx",marginStart:"gug11x0k"}};function a(a){var c=a.thread,d=a.onClose,e=a.message;a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var f=b("cr:2893")==null?function(a){}:b("bs_curry")._1(b("cr:2893").useHook,void 0),h=b("cr:2892")==null?function(a){}:b("bs_curry")._1(b("cr:2892").useHook,void 0),l=b("UseMWV2LocalRemoveMessage.bs").useHook(void 0),m=b("UseMWV2GlobalRemoveMessage.bs").useHook(void 0),n=a?h:l,o=a?f:b("bs_curry")._2(m,void 0,void 0);h=a?g._("__JHASH__SyjF9q2i96n__JHASH__"):g._("__JHASH__3nC2F2SOFIl__JHASH__");l=b("gkx")("1531920")?g._("__JHASH__oBth3b5GmEf__JHASH__"):g._("__JHASH__uQdYnP4xNl0__JHASH__");f=g._("__JHASH__jLFq-Qn9eN___JHASH__");m=j.useState(function(){return 0});var p=m[1],q=m[0];m=function(a){q===0?b("bs_curry")._1(o,e):b("bs_curry")._1(n,e);return b("bs_curry")._1(d,void 0)};var r=b("MWPActor.bs").useActor(void 0),s=b("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs").useValue(c),t=j.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("bs_caml_option").undefined_to_opt(s.find(function(a){return b("bs_caml").i64_neq(a[1].id,r)}))},[r,s]);t=t!==void 0?b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").viewerIsUnconnected,t[1]),!1):!1;t=a&&t;t=t?null:j.jsxs(j.Fragment,{children:[j.jsx(b("MWRadio.react"),{checked:q===0,label:b("gkx")("1531920")?g._("__JHASH__3WNPzP2whFB__JHASH__"):g._("__JHASH__Blkrb2PpT4H__JHASH__"),name:"radio",onChange:function(a){return b("bs_curry")._1(p,function(a){return 0})},testid:"messenger_remove_for_everyone_radio",value:0}),j.jsx("div",{className:(i||(i=b("stylex")))(k.settingSubtitle),children:j.jsx(b("MWDialogText.react"),{color:"secondary",children:l})})]});l=!b("MAWGating.bs").isUnsendLocallyEnabled(void 0)&&a?null:j.jsxs(j.Fragment,{children:[j.jsx(b("MWRadio.react"),{checked:q===1,label:g._("__JHASH__lajVt418Pj8__JHASH__"),name:"radio",onChange:function(a){return b("bs_curry")._1(p,function(a){return 1})},testid:"messenger_remove_for_you_radio",value:1}),j.jsx("div",{className:(i||(i=b("stylex")))(k.settingSubtitle),children:j.jsx(b("MWDialogText.react"),{color:"secondary",children:h})})]});return j.jsxs(b("MWCardedDialog.react"),{title:f,withCloseButton:!0,onClose:d,children:[t,l],size:"medium",primaryCallToAction:{label:g._("__JHASH__OBeSQ3xvN5u__JHASH__"),onPress:m,testid:"messenger_global_remove_dialog_submit",type:"primary"},secondaryCallToAction:{label:g._("__JHASH__ko1T7DvDF-J__JHASH__"),onPress:d}})}c=a;f.styles=k;f.$MAWPDeleteMessageForMe$requireCondXplat=b("cr:2892");f.$MAWPRevokeMessage$requireCondXplat=b("cr:2893");f.make=c}),null);
__d("MWV2LocalRemoveMessageDialog.bs",["fbt","LSMessagingThreadTypeUtil.bs","MWCardedDialog.react","MWDialogText.react","UseMWV2LocalRemoveMessage.bs","bs_curry","cr:2892","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.onClose,e=a.message;a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);c=b("cr:2892")==null?function(a){}:b("bs_curry")._1(b("cr:2892").useHook,void 0);var f=a?c:b("UseMWV2LocalRemoveMessage.bs").useHook(void 0);c=function(a){b("bs_curry")._1(f,e);return b("bs_curry")._1(d,void 0)};var h=g._("__JHASH__MtviLGqEBTm__JHASH__");return i.jsx(b("MWCardedDialog.react"),{title:h,withCloseButton:!0,onClose:d,children:i.jsx(b("MWDialogText.react"),{children:a?g._("__JHASH__SyjF9q2i96n__JHASH__"):g._("__JHASH__-fLc5wOF5_O__JHASH__")}),hasTextOnlyContent:!0,size:"small",primaryCallToAction:{label:g._("__JHASH__OBeSQ3xvN5u__JHASH__"),onPress:c},secondaryCallToAction:{label:g._("__JHASH__ko1T7DvDF-J__JHASH__"),onPress:d}})}c=a;f.$MAWPDeleteMessageForMe$requireCondXplat=b("cr:2892");f.make=c}),null);
__d("MWV2OnlyGlobalRemoveMessageDialog.bs",["fbt","GroupsCometAAV5RemoveMessageUpsellDialog.entrypoint","MWCMUseFolder.bs","MWCardedDialog.react","MWDialogText.react","MWLSThread.bs","UseMWV2GlobalRemoveMessage.bs","bs_curry","bs_int64","react","useCometEntryPointDialog","useGroupsCometRemoveMessageUpsellDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onClose,d=a.message,e=b("UseMWV2GlobalRemoveMessage.bs").useHook(void 0),f=b("MWLSThread.bs").useThreadExn(d.threadKey);a=b("MWCMUseFolder.bs").useHook(f);var h;if(a!==void 0){a=b("bs_int64").to_string(a.fbGroupId);var j=b("bs_int64").to_string(d.senderId);j={trigger:"COMMUNITY_MESSAGING_MODERATION_M2",message_sender_id:j};var k=b("useGroupsCometRemoveMessageUpsellDialog")(a,j),l=k[1],m=k[0];k=b("useCometEntryPointDialog")(b("GroupsCometAAV5RemoveMessageUpsellDialog.entrypoint"),{groupID:a,suggestionParams:j});var n=k[0];h=function(a){return b("bs_curry")._1(m,function(a,c){if(a)return n(function(a){return{}},function(a){return b("bs_curry")._1(l,c)})})}}else h=void 0;a=function(a){b("bs_curry")._3(e,h,f,d);return b("bs_curry")._1(c,void 0)};j=g._("__JHASH__YacmV_NOO34__JHASH__");return i.jsx(b("MWCardedDialog.react"),{title:j,withCloseButton:!0,onClose:c,children:i.jsx(b("MWDialogText.react"),{children:g._("__JHASH__z4xmEPVYjS3__JHASH__")}),hasTextOnlyContent:!0,size:"small",primaryCallToAction:{label:g._("__JHASH__ReZlI_PZuwT__JHASH__"),onPress:a},secondaryCallToAction:{label:g._("__JHASH__ko1T7DvDF-J__JHASH__"),onPress:c}})}c=a;f.make=c}),null);
__d("MWV2RemoveMessageDialog.bs",["LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWCMThreadTypes.bs","MWPCanRemoveMessageGlobally.bs","MWV2GlobalRemoveMessageDialog.bs","MWV2LocalRemoveMessageDialog.bs","MWV2OnlyGlobalRemoveMessageDialog.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.message,d=a.thread,e=a.canRemoveMessageGlobally;a=a.onClose;e=e!==void 0?e:!0;a=a!==void 0?a:i;if(b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType))return h.jsx(b("MWV2OnlyGlobalRemoveMessageDialog.bs").make,{onClose:a,message:c});else if(b("MWPCanRemoveMessageGlobally.bs").make(d,c)&&e&&(!b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType)||b("MAWGating.bs").isUnsendGlobalEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType)))return h.jsx(b("MWV2GlobalRemoveMessageDialog.bs").make,{thread:d,onClose:a,message:c});else return h.jsx(b("MWV2LocalRemoveMessageDialog.bs").make,{thread:d,onClose:a,message:c})}c=!0;d=a;f.defaultOnClose=i;f.canRemove=c;f.make=d}),null);
__d("MWV2RemoveMessageDialog",["MWV2RemoveMessageDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2RemoveMessageDialog.bs").make}),98);